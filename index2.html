<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://npmcdn.com/basscss@7.1.1/css/basscss.min.css">
    <title>kaleculator</title>
    <style>
      .hide { display: none; }
    </style>
  </head>

  <body class="bg-silver">

    <div class="p4">
      <form action="">
        <fieldset>
          <legend>Kaleculator &middot;&middot;&middot; calculate batches of kale to buy in grams and pounds</legend>
          <div class="input-group flex fit">
            <input id="inputField" type="number" class="block fit" placeholder="Enter an integer">
            <button id="submitButton" type="submit" class="button">Submit</button>
          </div>
        </fieldset>
      </form>
    </div>

    <div id="output" class="p4 hide">
      <p class="center">Total kale needed: 
        <span id="output-grams"></span>
        <span id="output-pounds"></span>
      </p>
    </div>

    <script>
      let userInput = document.getElementById('inputField');
      userInput.value = '';
      const submit = document.getElementById('submitButton');
      const outputDiv = document.getElementById('output');
      const outputGrams = document.getElementById('output-grams');
      const outputPounds = document.getElementById('output-pounds');
      const k = 1125;

      const getGrams = (constant, input) => `${Number(constant * input).toLocaleString()}g`;
      const getPounds = (constant, input) => `${((constant * input)/454).toFixed(1)}lbs`;

      submit.addEventListener('click', (e) => {
        e.preventDefault();
        console.log('the button was clicked!');
        console.log('userInput.value = ', userInput.value);
        if ( userInput.value !== '' ) {
          outputDiv.classList.remove('hide');
          outputGrams.innerHTML = getGrams(k, userInput.value);
          outputPounds.innerHTML = getPounds(k, userInput.value);
        }
        userInput.value = '';
        return;
      }, false );
    </script>

  </body>

</html>