<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://npmcdn.com/basscss@7.1.1/css/basscss.min.css">
    <title>kaleculator</title>
    <style>
      * { box-sizing: border-box; }
      .hide { display: none; }
      fieldset {
        border: 1px solid #111;
        border-radius: 4px;
        padding: 1rem;
      }
      @media(min-width: 40em) {
        .sm-flex-row { flex-direction: row; }
      }
    </style>
  </head>

  <body class="bg-silver">

    <div class="p2">

      <Kaleculator>
        <div class="p2 col-8 sm-col-12 md-col-10 mx-auto border rounded">
          <div class="flex flex-center flex-column sm-flex-row">
            <select name="starting-point" id="starting-point" class="col-12 sm-col-6">
              <option value="0" selected>0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
            </select>

            <div class="col-12 sm-col-3 center">
              <span id="output-pounds" class="h1"></span><span>lbs</span>
            </div>

            <div class="col-12 sm-col-3 center">
              <span id="output-grams" class="h1"></span><span>g</span>
            </div>

          </div>
        </div>
      </Kaleculator>

    </div>

    <div class="p4">
      <div id="output-display"></div>
    </div>

    <script>
      const userInput = document.getElementById('starting-point');
      const output = document.getElementById('output-display');
      const outputGrams = document.getElementById('output-grams');
      const outputPounds = document.getElementById('output-pounds');
      
      const k = 1125;
      const getGrams = (constant, input) =>
        `${
          Number(constant * input).toLocaleString()
        }`;
      const getPounds = (constant, input) =>
        `${
          (((constant * input) / 454).toFixed(1).endsWith('0'))
            ? `${((constant * input) / 454).toFixed(0)}`
            : `${((constant * input) / 454).toFixed(1)}`
        }`;

      userInput.addEventListener('change', (e) => {
        outputGrams.innerHTML = getGrams(k, userInput.value);
        outputPounds.innerHTML = getPounds(k, userInput.value);
      }, false)
    </script>

  </body>

</html>